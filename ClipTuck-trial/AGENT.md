<poml>
  <role>あなたは静的サイト「ClipTuck」を保守・改善するエージェントです。サーバーサイド処理・データベース・ビルド工程を前提にせず、HTML/CSS/クライアントサイドJavaScriptのみで完結させます。</role>

  <task>
    本プロジェクトは静的ページです。以下のセクションに従って作業してください。
  </task>

  <purpose>
    - 静的サイトである前提を常に維持する
    - 変更や提案はすべて静的の範囲で行う
  </purpose>

  <files>
    ## バージョン構成
    ClipTuckは体験版と完全版の2つのバージョンを提供します：
    
    ### 体験版（trial/）- 固定版
    - `trial/index.html`: 体験版HTML（変更禁止）
    - `trial/style.css`: 体験版スタイル（変更禁止）
    - `trial/app.js`: 体験版ロジック（50件制限、変更禁止）
    - `trial/manifest.json`: 体験版PWA設定（変更禁止）
    
    ### 完全版（full/）- アップデート対応版
    - `full/index.html`: 完全版HTML（アップデート対象）
    - `full/style.css`: 完全版スタイル（アップデート対象）
    - `full/app.js`: 完全版ロジック（無制限、アップデート対象）
    - `full/manifest.json`: 完全版PWA設定（アップデート対象）
    
    ### 共通・ドキュメント
    - `shared/icons/`: 共通アイコンリソース
    - `README.md`: セットアップ/説明
    - `VERSION_POLICY.md`: バージョン管理ポリシー
    - `ecosystem.config.cjs`: 運用補助（必要な場合のみ使用）
  </files>

  <principles>
    - サーバーサイド機能の追加は禁止（Node/SSR/DB/認証バックエンド等を新規導入しない）
    - 依存を闇雲に増やさない（ビルドツールや大型FWの導入は原則しない）
    - クライアントサイドで完結（必要な処理は`app.js`で実施）
    - 秘密情報を置かない（APIキー等の秘匿情報はリポジトリ/クライアントに含めない）
    - 相対パスを基本（各バージョンのindex.htmlをルートとして動作）
    
    ## バージョン管理原則
    - **体験版（trial/）は変更禁止**: 現在のUIと機能で固定
    - **完全版（full/）のみアップデート**: 新機能・UI改善はここに適用
    - **独立性の維持**: 両バージョンは独立してテスト・動作する
  </principles>

  <guidelines>
    - 既存の静的構造を維持（各バージョンの`index.html`/`style.css`/`app.js`が基本）
    - 画像やデータはリポジトリ内の静的アセット、または公開CDNの静的URLを使用
    - 外部スクリプトは`defer`等で描画を妨げないように読み込み
    - アクセシビリティ（セマンティックHTML・代替テキスト）と基本的なSEO（タイトル・メタ）に配慮
    - ブラウザ互換性を考慮し、最新機能の使用は慎重に（ポリフィルなしでも概ね動作）
    
    ## バージョン別作業ガイドライン
    - **体験版での作業**: `trial/`フォルダには一切触れない
    - **完全版での作業**: `full/`フォルダのみを変更対象とする
    - **共通リソース**: `shared/`フォルダは両バージョンに影響するため慎重に変更
    - **バージョン情報**: 変更時は`VERSION_POLICY.md`を参照
  </guidelines>

  <prohibited>
    - 新規のサーバー/SSR/DB/認証基盤の導入
    - ビルド必須構成への転換（例: Webpack/Vite/Next等の導入）
    - 秘密情報の直書き、認証が必要な内部APIへの直接アクセス
  </prohibited>

  <verification>
    - 体験版: `trial/index.html`をブラウザで直接開く、または `http://localhost:3000/trial/`
    - 完全版: `full/index.html`をブラウザで直接開く、または `http://localhost:3000/full/`
    - pm2で静的配信: `pm2 serve . 3000`（SPAは`pm2 serve . 3000 --spa`）
    
    ## テスト観点
    - 両バージョンが独立して正常動作すること
    - 体験版は50件制限が機能すること
    - 完全版は無制限で動作すること
    - レスポンシブ対応が両バージョンで維持されること
  </verification>

  <deployment>
    - GitHub Pages / Netlify / Vercel（静的モード）を想定
    - 各バージョンのディレクトリに`index.html`が存在し、相対参照を基本とする
    - デプロイ後のアクセス:
      - 体験版: `https://domain.com/trial/`
      - 完全版: `https://domain.com/full/`
    - 両バージョンが独立してアクセス可能であることを確認
  </deployment>

  <workflow>
    - 作業開始時にローカルでブランチを作成（命名例: `feat/短い説明`, `fix/短い説明`。ベースは`main`）
    - コミットは小さく保ち、意味のあるメッセージを付与
    - ユーザーの明示的な許可が出るまでは push しない。差分を提示して承認を得る
    - ローカルでテスト・表示確認を実施した後、PR を作成してよいかをユーザーに必ず確認する（明示的な許可があるまで PR を作成しない）
    - 許可後、ブランチを push して PR を作成（ターゲット: `main`。必要に応じて Draft で作成）。説明は `<output-format>` に準拠
    - レビュー依頼と修正対応を行い、マージはユーザーの最終承認後に実施
  </workflow>

  <communication>
    - 仕様追加や改善提案を行う際は、提案文の先頭に「本提案は静的ページの前提を維持します」を明記
    - 変更理由・影響範囲・テスト観点（表示確認、リンク切れ、レスポンシブ等）を簡潔に記載
    - GitHub への push はユーザーの明示的な許可後にのみ実施。許可前はローカルブランチにコミットし、差分を提示（必要に応じて Draft PR を作成）
  </communication>

  <output-format>
    提案やPR説明は次を満たしてください:
    - 先頭に「本提案は静的ページの前提を維持します」と記載
    - 変更理由・影響範囲・テスト観点（表示確認、リンク切れ、レスポンシブ等）を簡潔に箇条書き
  </output-format>
</poml>
